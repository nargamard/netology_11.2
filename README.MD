# Домашнее задание к занятию "11.02 Микросервисы: принципы"

### Задача 1: API Gateway

```
Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных 
программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:

Маршрутизация запросов к нужному сервису на основе конфигурации
Возможность проверки аутентификационной информации в запросах
Обеспечение терминации HTTPS

Обоснуйте свой выбор.
```

Сейчас есть несколько облачных решений, предоставляющие функции API Gateway: Azure API Management, Amazon API Gateway, Oracle API Gateway, Yandex API Gateway, Google API Gateway, и даже есть от банка - SberCloud API Gateway.

Но помня, что нет никаких облаков, есть чужой компьютер, буду выбирать другое решение. Из них есть:
1. Kong
2. Nginx
3. Gravitee
4. Krakend
5. Spring Cloud

Выбрать сложно, поскольку нет опыта использования ни одного из них, однако имеется таблица: https://docs.google.com/spreadsheets/d/16bxRgpO1H_Bn-5xVZ1WrR_I-0A-GOI6egmhvqqLMOmg/edit#gid=1612037324

По данным таблицы и судя по описаниям, предпочтительнее Kong из-за наличия большого количества плагинов и поддержки множества способов аутентификации.

### Задача 2: Брокер сообщений
```
Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:

Поддержка кластеризации для обеспечения надежности
Хранение сообщений на диске в процессе доставки
Высокая скорость работы
Поддержка различных форматов сообщений
Разделение прав доступа к различным потокам сообщений
Протота эксплуатации
Обоснуйте свой выбор.
```

Ответ:
Не имея опыта использования ни одного из существующих продуктов, выбор сделать сложно. Наверное, Apache Kafka выберу, поскольку заявлено, что производительность высокая и соответствует всем требованиям. Документации, всяких инструкций по нему много.

Такая получилась таблица:

| Брокер | кластеризация | Хранение на диске | Скорость | Различные форматы | Разделение прав доступа | Простота |
| :----- |:------------- |:----------------- |:-------- |:----------------- |:----------------------- |:-------- |
| Apache ActiveMQ | Есть | Есть (или в БД) | Вряд ли (написано на Java) | Нет (об этом не сказано) | Есть | Есть (много документации) |
| Apache Kafka | Есть | Есть | Есть | Есть | Есть | Есть (много документации) |
| RabbitMQ | Есть | Есть | Есть | Есть | Есть | Есть (много документации) |
| Apache Qpid | Есть | Есть | Есть* | Нет | Есть | Не известно |
| WSO2 Message Broker | Есть | Есть | Не известно | Не известно | Есть | Заявлено, что просто |

*у версии на С+, есть и другая версия, на java, там не заявлена высокая производительность
